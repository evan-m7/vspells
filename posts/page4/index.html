<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical href=http://evan-m7.github.io/vspells/posts/page4/><title>Tree-sitter Grammar | VSPELLS HOMEPAGE</title><link href=http://evan-m7.github.io/vspells/css/fontawesome.min.css rel=stylesheet><link rel=stylesheet href=http://evan-m7.github.io/vspells/css/ace.min.css></head><body><nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow sticky-top" id=navbarMain><div class=container><div><a class=navbar-brand href=../../>VSPELLS HOMEPAGE</a></div><button class="navbar-toggler navbar-toggler-right collapsed" type=button data-toggle=collapse data-target=#navbarMainCollapse aria-controls=navbarMainCollapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarMainCollapse><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=https://vantage-design.com target=_blank>More from us</a></li><li class=nav-item><a class=nav-link href=https://github.com/vantagedesign/ace-documentation target=_blank><i class="fab fa-github"></i></a></li><li class=nav-item><a class=nav-link href=https://github.com/vantagedesign/ace-documentation/releases target=_blank><button class="btn btn-success mt-n1">Download</button></a></li></ul></div></div></nav><div class=container-fluid><div class=row><div class="docs-sidenav order-0 col-12 col-md-3 col-lg-2 col-xl-2 position-sticky border-right"><nav class="navbar navbar-expand-md navbar-light pl-0"><button class="navbar-toggler navbar-toggler-right collapsed" type=button data-toggle=collapse data-target=#sidenav-left-collapse aria-controls=sidenav-left-collapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse align-items-start flex-column" id=sidenav-left-collapse><form class="form-inline my-2 my-lg-0 searchbox"><input class="form-control mr-sm-2 w-100" data-search-input id=search-by type=text placeholder=Search></form><ul class="navbar-nav flex-column pt-3"><li data-nav-id=/posts/ class="nav-item my-1 parent haschildren"><a class="nav-link p-0" href=../../posts/><h6>Formula Work</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/posts/page1/ class="nav-item my-1"><a href=../../posts/page1/ class="nav-link p-0">Symbolic Execution</a></li><li data-nav-id=/posts/page2/ class="nav-item my-1"><a href=../../posts/page2/ class="nav-link p-0">VS Code Environment</a></li><li data-nav-id=/posts/page3/ class="nav-item my-1"><a href=../../posts/page3/ class="nav-link p-0">Nix Support</a></li><li data-nav-id=/posts/page4/ class="nav-item my-1 active"><a href=../../posts/page4/ class="nav-link p-0">Tree-sitter Grammar</a></li></ul></li><li data-nav-id=/posts2/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=../../posts2/><h6>Battery Consumption DSL</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/posts2/page1/ class="nav-item my-1"><a href=../../posts2/page1/ class="nav-link p-0">Cross-domain Reasoning Over Software Components and Battery Consumption</a></li><li data-nav-id=/posts2/page2/ class="nav-item my-1"><a href=../../posts2/page2/ class="nav-link p-0">Page 2</a></li></ul></li><li data-nav-id=/posts3/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=../../posts3/><h6>PX4 Drone Examples</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/posts3/page2/ class="nav-item my-1"><a href=../../posts3/page2/ class="nav-link p-0">Academia</a></li><li data-nav-id=/posts3/page1/ class="nav-item my-1"><a href=../../posts3/page1/ class="nav-link p-0">Real World Application</a></li></ul></li><li data-nav-id=/shortcuts/ class="nav-item my-1 haschildren"><a class="nav-link p-0" href=../../shortcuts/><h6>Shortcuts</h6></a><ul class="list-unstyled ml-2"><li data-nav-id=/shortcuts/page1/ class="nav-item my-1"><a href=../../shortcuts/page1/ class="nav-link p-0">Page 1</a></li><li data-nav-id=/shortcuts/page2/ class="nav-item my-1"><a href=../../shortcuts/page2/ class="nav-link p-0">Page 2</a></li></ul></li></ul></div></nav></div><div class="docs-toc large order-lg-2 order-md-0 order-xs-1 col-12 col-lg-2 col-xl-2 position-sticky border-left"><div class=docs-toc><nav id=TableOfContents><ul><li><a href=#why-anycode-for-formula>Why Anycode for Formula?</a><ul><li><a href=#anycode-features>Anycode Features</a></li></ul></li></ul></nav></div></div><div class="main col-12 order-1 col-md-9 col-lg-10 col-xl-8 py-3"><h1>Tree-sitter Grammar</h1><p class=lead>Tree-sitter grammar for Formula using <a href=https://github.com/microsoft/vscode-anycode target=_blank>vscode-anycode</a></p><h2 id=why-anycode-for-formula>Why Anycode for Formula?</h2><p>A <a href=https://tree-sitter.github.io/tree-sitter/ target=_blank>Tree-sitter</a>-based language extension that inaccurately implements popular features like &ldquo;Outline & Breadcrumbs&rdquo;, &ldquo;Go to Symbol in Workspace&rdquo;, &ldquo;Document Highlights&rdquo; and more. This extension should be used when running in enviroments that don&rsquo;t allow for running actual language services, like Formula</p><h3 id=anycode-features>Anycode Features</h3><p>The features provided by this extension are meant to be better than full-text search, but fall short when compared to real language services. We refer to this as &ldquo;partial mode&rdquo; and anycode will show a language status item when inaccurate language support is active.</p><p>Anycode identifies and compares usages and declarations.</p><p>Outline - A parse tree itself is an outline. However, it is too detailed and anycode selects declarations like functions, classes with its memebers, interfaces etc.</p><p>Go to Symbol - Anything that would show in outline (declarations) is stored in a trie so that it can be found by typing names or partial names of declarations. How well this works across file depends on the anycode.symbolIndexSize-setting - it defauls to 100 and defines how many files are eagerly fetched and analyzed.</p><p>Go to Definition - Works just like &ldquo;Go to Symbol&rdquo; but it uses the current identifier as the name to find declarations for. This isn&rsquo;t semantic and depending on your project yields false positives, e.g it will find all run-methods and not just Runnable#run etc</p><p>Completions - Any identifier of the current document and the names of all known declarations are always suggested as completions. So, no precise member-completion but identifiers.</p><p>Expand/Shrink Selection - Solely based on parse trees. It finds the node at the current position and returns all parents as selection.</p><p>Syntax Validation - Tree-sitter parsers can recover from malformed source code. In case error nodes are inserted into the parse tree and anycode can report them as diagnostics. Note that validation is off by default and that it must be enabled via the anycode.language.features#diagnostics-setting.</p><p>Document Highlights - For local variables and function arguments usages in their scope are computed and highlighted. If that&rsquo;s not possible, all identifiers with the same name are highlighted - 1 only identifier based highlights implemented</p><p>Reference Search - All usages, such as function-calls or member-accesses, are kept in a trie which is later used for reference search. Like &ldquo;Go to Symbol&rdquo; its result depend on the anycode.symbolIndexSize-setting.</p><p>Last, there is the anycode.language.features-setting which controls what feature is enabled or disabled - either for all or just specific languages.</p><div class=row></div></div></div></div><script src=http://evan-m7.github.io/vspells/lib/jquery.min.js></script>
<script src=http://evan-m7.github.io/vspells/lib/popper.min.js></script>
<script src=http://evan-m7.github.io/vspells/js/bootstrap.min.js></script>
<script type=text/javascript src=../../plugins/lunr.min.js></script>
<script type=text/javascript src=../../plugins/auto-complete.js></script>
<link href=../../plugins/auto-complete.css rel=stylesheet><script type=text/javascript>var baseurl="http://evan-m7.github.io/vspells/"</script><script type=text/javascript src=../../plugins/search.js></script>
<script type=text/javascript src=../../plugins/clipboard.js></script>
<script>new ClipboardJS(".btn")</script></body></html>